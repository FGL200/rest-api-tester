<div class="mx-5 mt-5">

  <div class="card shadow-sm mb-3">
    <div class="card-header">
      <div class="text-end">
        <i class="bi bi-circle-fill text-{{APIURL.status}}"></i>
      </div>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-sm-4">
          <div class="input-block mb-3">
            <span class="form-label">Method</span>
            <select (change)="onChangeValues()" [(ngModel)]="APIURL.method" class="form-select">
              <option value="GET">GET</option>
              <option value="POST">POST</option>
              <option value="PUT">PUT</option>
              <option value="DELETE">DELETE</option>
            </select>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="input-block mb-3">
            <span class="form-label">Protocol</span>
            <select (change)="onChangeValues()" [(ngModel)]="APIURL.protocol" class="form-select">
              <option value="http://">http</option>
              <option value="https://">https</option>
            </select>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="input-block mb-3">
            <span class="form-label">Port</span>
            <input (input)="onChangeValues()" [(ngModel)]="APIURL.port" type="text" class="form-control"
              placeholder="HTTPS: 443, HTTP: 80">
          </div>
        </div>
        <div class="col-sm-6">
          <div class="input-block mb-3">
            <span class="form-label">Host</span>
            <input (input)="onChangeValues()" [(ngModel)]="APIURL.host" type="text" class="form-control"
              placeholder="Host">
          </div>
        </div>
        <div class="col-sm-6">
          <div class="input-block mb-3">
            <span class="form-label">Path</span>
            <input (input)="onChangeValues()" [(ngModel)]="APIURL.path" type="text" class="form-control"
              placeholder="Path">
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer">
      <div class="input-block mb-3">
        <span class="form-label">Generated URL</span>
        <div class="input-group">
          <input [(ngModel)]="APIURL.url" type="text" class="form-control bg-light" placeholder="URL" readonly>
          <button (click)="APIURL.send()" class="btn btn-outline-secondary">Send</button>
        </div>
      </div>
    </div>
  </div>

  <div class="card card-body shadow-sm mb-3">
    <div class="row">
      <div class="col-md-6">
        <div class="card mb-3 h-100">
          <div class="card-header">
            Query String Parameters
          </div>
          <div class="card-body">
            <div class="row">
              <ng-container *ngFor="let param of parameter.values; let i = index">
                <div class="col-6">
                  <div class="input-group mb-3">
                    <button (click)="parameter.delete(i);onChangeValues()" class="btn btn-outline-danger"><i
                        class="bi bi-x"></i></button>
                    <input (input)="onChangeValues()" [(ngModel)]="parameter.values[i].key" type="text"
                      class="form-control" placeholder="Key">
                  </div>
                </div>
                <div class="col-6">
                  <div class="input-block mb-3">
                    <input (input)="onChangeValues()" [(ngModel)]="parameter.values[i].value" type="text"
                      class="form-control" placeholder="Value">
                  </div>
                </div>
              </ng-container>
              <div class="col-12">
                <button (click)="parameter.add();onChangeValues();" class="btn btn-outline-primary w-100">Add
                  Parameter</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card mb-3 h-100">
          <div class="card-header">
            Request Payloads
          </div>
          <div class="card-body">
            <div class="row">
              <ng-container *ngFor="let payl of payload.values; let i = index">
                <div class="col-6">
                  <div class="input-group mb-3">
                    <button (click)="payload.delete(i)" class="btn btn-outline-danger"><i class="bi bi-x"></i></button>
                    <input [(ngModel)]="payload.values[i].key" type="text" class="form-control" placeholder="Key">
                  </div>
                </div>
                <div class="col-6">
                  <div class="input-block mb-3">
                    <input [(ngModel)]="payload.values[i].value" type="text" class="form-control" placeholder="Value">
                  </div>
                </div>
              </ng-container>
              <div class="col-12">
                <button (click)="payload.add()" class="btn btn-outline-primary w-100">Add Payload</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card card-body shadow-sm mb-5">
    <div class="row">
      <div class="col-12">
        <div class="fs-4 mb-3">Result: </div>
      </div>
      <div class="col-12">
        <div class="code-font bg-light shadow-inn-sm p-3 ">
          <ng-container *ngIf="APIURL.result">{{APIURL.result}}</ng-container>
          <div *ngIf="!APIURL.result" class="text-muted">Make a your API request.</div>
        </div>
      </div>
    </div>
  </div>

</div>